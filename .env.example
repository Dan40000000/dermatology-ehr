# ===========================================
# DERMATOLOGY EHR - PRODUCTION ENVIRONMENT
# ===========================================

# -----------------------------
# Database Configuration
# -----------------------------
DB_HOST=postgres
DB_PORT=5432
DB_NAME=derm_db
DB_USER=derm_user
DB_PASSWORD=CHANGE_ME_secure_database_password_min_32_chars

# -----------------------------
# Application Configuration
# -----------------------------
NODE_ENV=production
PORT=4000
API_URL=https://api.yourdomain.com
FRONTEND_URL=https://app.yourdomain.com

# -----------------------------
# Authentication & Security
# -----------------------------
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=CHANGE_ME_your_jwt_secret_min_64_chars_random_string
JWT_EXPIRY=15m
REFRESH_TOKEN_EXPIRY=7d
CSRF_SECRET=CHANGE_ME_your_csrf_secret_min_64_chars_random_string

# Session configuration
SESSION_SECRET=CHANGE_ME_your_session_secret_min_64_chars_random_string
SESSION_MAX_AGE=86400000

# Rate limiting
RATE_LIMIT_WINDOW=15
RATE_LIMIT_MAX_REQUESTS=100

# -----------------------------
# Redis Configuration
# -----------------------------
REDIS_URL=redis://:CHANGE_ME_redis_password@redis:6379
REDIS_PASSWORD=CHANGE_ME_secure_redis_password

# -----------------------------
# Storage Configuration
# -----------------------------
STORAGE_PROVIDER=s3
AWS_REGION=us-east-1
AWS_S3_BUCKET=derm-uploads-production
AWS_ACCESS_KEY_ID=CHANGE_ME_your_aws_access_key
AWS_SECRET_ACCESS_KEY=CHANGE_ME_your_aws_secret_key

# Local storage fallback (for development)
UPLOAD_DIR=/app/uploads
MAX_FILE_SIZE=52428800

# -----------------------------
# Email Configuration
# -----------------------------
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=apikey
SMTP_PASSWORD=CHANGE_ME_your_sendgrid_api_key
FROM_EMAIL=noreply@yourdomain.com
FROM_NAME=Dermatology EHR

# -----------------------------
# Monitoring & Logging
# -----------------------------
SENTRY_DSN=https://CHANGE_ME_your_sentry_key@o0000000.ingest.sentry.io/0000000
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=1.0
LOG_LEVEL=info

# -----------------------------
# AI Services (Optional)
# -----------------------------
OPENAI_API_KEY=
OPENAI_TRANSCRIBE_MODEL=gpt-4o-transcribe-diarize
OPENAI_NOTE_MODEL=gpt-4o
ANTHROPIC_API_KEY=
ANTHROPIC_NOTE_MODEL=claude-3-5-sonnet-20241022
AMBIENT_LIVE_TRANSCRIBE_ENABLED=true
AMBIENT_LIVE_TRANSCRIBE_MIN_INTERVAL_MS=5000
AMBIENT_LIVE_TRANSCRIBE_MODEL=gpt-4o-transcribe

# -----------------------------
# HIPAA Compliance
# -----------------------------
ENCRYPTION_KEY=CHANGE_ME_your_encryption_key_32_bytes
AUDIT_LOG_RETENTION_DAYS=2555
PHI_ENCRYPTION_ENABLED=true

# -----------------------------
# ClamAV Virus Scanning
# -----------------------------
CLAMAV_HOST=clamav
CLAMAV_PORT=3310
VIRUS_SCAN_ENABLED=true

# -----------------------------
# Backup Configuration
# -----------------------------
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=90
BACKUP_BUCKET=derm-backups-production

# -----------------------------
# Feature Flags
# -----------------------------
ENABLE_PATIENT_PORTAL=true
ENABLE_TELEHEALTH=true
ENABLE_MESSAGING=true
ENABLE_DOCUMENT_EXPORT=true

# -----------------------------
# Performance & Optimization
# -----------------------------
NODE_OPTIONS=--max-old-space-size=4096
WORKER_THREADS=4
ENABLE_CLUSTERING=true

# -----------------------------
# CORS Configuration
# -----------------------------
CORS_ORIGIN=https://app.yourdomain.com,https://www.yourdomain.com
CORS_CREDENTIALS=true

# -----------------------------
# SSL/TLS Configuration
# -----------------------------
SSL_ENABLED=true
SSL_CERT_PATH=/etc/ssl/certs/derm-cert.pem
SSL_KEY_PATH=/etc/ssl/private/derm-key.pem

# -----------------------------
# External Services
# -----------------------------
# Twilio (for SMS notifications)
TWILIO_ACCOUNT_SID=CHANGE_ME
TWILIO_AUTH_TOKEN=CHANGE_ME
TWILIO_PHONE_NUMBER=+1234567890

# Payment processing (if applicable)
STRIPE_SECRET_KEY=CHANGE_ME
STRIPE_PUBLISHABLE_KEY=CHANGE_ME

# -----------------------------
# Development/Debug (disable in production)
# -----------------------------
DEBUG=false
ENABLE_API_DOCS=false
ENABLE_PLAYGROUND=false
