# Environment variable schema (backend + frontend)
# Format: KEY=default # notes

# -----------------------------
# Core Environment
# -----------------------------
NODE_ENV=development # development|production|test
PORT=4000
API_URL=http://localhost:4000
FRONTEND_URL=http://localhost:5173

# -----------------------------
# Database
# -----------------------------
DATABASE_URL=postgres://derm_user:derm_pass@localhost:5432/derm_db
DB_HOST=localhost
DB_PORT=5432
DB_NAME=derm_db
DB_USER=derm_user
DB_PASSWORD= # required
DB_MAX_CONNECTIONS=20
DB_IDLE_TIMEOUT=30000

# -----------------------------
# Authentication & Security
# -----------------------------
JWT_SECRET= # required
JWT_ISSUER=derm-app
ACCESS_TOKEN_TTL_SEC=900
REFRESH_TOKEN_TTL_SEC=1209600
JWT_EXPIRY=15m
REFRESH_TOKEN_EXPIRY=7d
SESSION_SECRET=
SESSION_MAX_AGE=86400000
CSRF_SECRET=
ENCRYPTION_KEY=
PHI_ENCRYPTION_ENABLED=false
ENABLE_PHI_ENCRYPTION=false
INIT_SECRET=
TENANT_HEADER=x-tenant-id
DEFAULT_USER_PASSWORD=Password123!

# -----------------------------
# Rate Limiting
# -----------------------------
RATE_LIMIT_WINDOW=15 # minutes
RATE_LIMIT_MAX_REQUESTS=100
DISABLE_RATE_LIMIT=false

# -----------------------------
# Redis
# -----------------------------
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=

# -----------------------------
# Storage
# -----------------------------
STORAGE_PROVIDER=local # local|s3
UPLOAD_DIR=
MAX_FILE_SIZE=52428800
AWS_REGION=us-east-1
AWS_S3_BUCKET=
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_S3_ENDPOINT=
AWS_S3_FORCE_PATH_STYLE=false
S3_ENDPOINT=
S3_FORCE_PATH_STYLE=false

# -----------------------------
# Email
# -----------------------------
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=
SMTP_PASSWORD=
FROM_EMAIL=noreply@example.com
FROM_NAME=Dermatology EHR
EMAIL_FROM= # legacy alias

# -----------------------------
# Monitoring & Logging
# -----------------------------
SENTRY_DSN=
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=1
LOG_LEVEL=info

# -----------------------------
# HIPAA / Compliance
# -----------------------------
AUDIT_LOG_RETENTION_DAYS=2555
VIRUS_SCAN_ENABLED=false
CLAMAV_HOST=
CLAMAV_PORT=3310
CLAMAV_TIMEOUT_MS=4000

# -----------------------------
# Backup
# -----------------------------
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=90
BACKUP_BUCKET=

# -----------------------------
# Feature Flags
# -----------------------------
ENABLE_PATIENT_PORTAL=false
ENABLE_TELEHEALTH=false
ENABLE_MESSAGING=false
ENABLE_DOCUMENT_EXPORT=false

# -----------------------------
# CORS / SSL
# -----------------------------
CORS_ORIGIN=
CORS_CREDENTIALS=false
SSL_ENABLED=false
SSL_CERT_PATH=
SSL_KEY_PATH=

# -----------------------------
# External Services
# -----------------------------
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=
STRIPE_SECRET_KEY=
STRIPE_PUBLISHABLE_KEY=

# -----------------------------
# Debug
# -----------------------------
DEBUG=false
ENABLE_API_DOCS=false
ENABLE_PLAYGROUND=false

# -----------------------------
# Service Mocks
# -----------------------------
USE_REAL_SERVICES=false
USE_MOCK_SERVICES=false
USE_MOCK_STORAGE=false
USE_MOCK_SMS=false
USE_MOCK_NOTIFICATIONS=false
USE_MOCK_VIRUS_SCAN=false
USE_MOCK_EMAIL=false
USE_MOCK_TWILIO=false
USE_MOCK_SLACK=false
USE_MOCK_TEAMS=false
USE_MOCK_CLAMAV=false

# -----------------------------
# AI Services
# -----------------------------
OPENAI_API_KEY=
OPENAI_NOTE_MODEL=
OPENAI_TRANSCRIBE_MODEL=
ANTHROPIC_API_KEY=
ANTHROPIC_NOTE_MODEL=
AMBIENT_AI_MOCK_DELAY_MS=0
AMBIENT_LIVE_TRANSCRIBE_ENABLED=true
AMBIENT_LIVE_TRANSCRIBE_MIN_INTERVAL_MS=5000
AMBIENT_LIVE_TRANSCRIBE_MODEL=gpt-4o-transcribe

# -----------------------------
# Test Flags
# -----------------------------
RUN_E2E=false
RUN_PERF=false

# -----------------------------
# Frontend (Vite)
# -----------------------------
VITE_API_BASE_URL=
VITE_API_URL=
VITE_USE_PRESIGN=false
